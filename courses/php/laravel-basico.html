<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Curso básico de Laravel</title>
    <link rel="icon" href="../../src/images/favicon.png" type="img/text" />
    <link
      href="https://fonts.googleapis.com/css?family=Pacifico|Source+Sans+Pro&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.0/styles/monokai-sublime.min.css"
    />
    <link rel="stylesheet" href="../../src/css/styles.css" />
  </head>

  <body>
    <div class="app">
      <div class="app-react-basico">
        <header class="header">
          <div class="container-general">
            <nav class="header-menu">
              <ul class="header-menu__list menu-left">
                <li class="header-menu__list--item">
                  <a class="link" href="../../index.html">Inicio</a>
                </li>
                <li class="header-menu__list--item">
                  <a class="link" href="">Carreras</a>
                </li>
              </ul>
              <figure class="header-menu__logo">
                <a href="../../index.html"
                  ><img
                    class="header-menu__logo--img"
                    src="../../src/images/logo_white.png"
                    alt="logo carlos zabala"
                /></a>
              </figure>
              <ul class="header-menu__list menu-right">
                <li class="header-menu__list--item">
                  <a class="link" href="">Me</a>
                </li>
                <li class="header-menu__list--item">
                  <a class="link" href="">Contacto</a>
                </li>
              </ul>
            </nav>
          </div>
        </header>
        <section class="hero-course">
          <div class="container-general">
            <h1 class="hero-course__title">Curso básico de Laravel</h1>
            <div class="hero-course__description">
              <p>
                Laravel es un framework de código abierto para desarrollar
                aplicaciones y servicios web con PHP 5 y PHP 7. Su filosofía es
                desarrollar código PHP de forma elegante y simple, evitando el
                "código espagueti".
              </p>
              <p>
                Una definición sencilla de laravel es herramienta de desarrollo
                web, nos ayudara mucho para crear un sistema web. A laravel
                podemos entenderlo como un sistema de capas, si lo entendemos
                bien podemos resolver cualquier problema.
              </p>
            </div>
            <div class="hero-course__buttons">
              <a
                target="_blank"
                href="https://platzi.com/clases/intro-laravel-2020/"
                class="btn btn--primary"
                >Curso platzi</a
              >
            </div>
          </div>
        </section>
        <section class="course-class">
          <div class="course-class__left" id="course-class__left">
            <div class="course-class__left--container">
              <nav class="course-class__menu">
                <ul>
                  <li>
                    <a class="link course-class__menu--a" href="#install"
                      >Instalación</a
                    >
                  </li>
                  <li>
                    <a class="link course-class__menu--a" href="#create"
                      >Crear proyecto</a
                    >
                  </li>
                  <li>
                    <a class="link course-class__menu--a" href="#crud"
                      >CRUD en laravel</a
                    >
                  </li>
                  <li>
                    <a class="link course-class__menu--a" href="#test-data"
                      >Datos de prueba</a
                    >
                  </li>
                  <li>
                    <a class="link course-class__menu--a" href="#form-validate"
                      >Validar formularios</a
                    >
                  </li>
                  <li>
                    <a class="link course-class__menu--a" href="#middlewares"
                      >Middlewares</a
                    >
                  </li>
                  <li>
                    <a
                      class="link course-class__menu--a"
                      href="#routes-and-controllers"
                      >Rutas y controladores</a
                    >
                  </li>
                  <li>
                    <a class="link course-class__menu--a" href="#validation"
                      >Validación de datos</a
                    >
                  </li>
                  <li>
                    <a class="link course-class__menu--a" href="#blade"
                      >blade</a
                    >
                  </li>
                  <li>
                    <a class="link course-class__menu--a" href="#laravel-ui"
                      >Componente Laravel UI</a
                    >
                  </li>
                  <li>
                    <a class="link course-class__menu--a" href="#eloquent"
                      >Eloquent</a
                    >
                  </li>
                  <li>
                    <a
                      class="link course-class__menu--a"
                      href="#eloquent-consult"
                      >Eloquent: Consultas</a
                    >
                  </li>
                  <li>
                    <a
                      class="link course-class__menu--a"
                      href="#eloquent-relations-table"
                      >Eloquent: Relación de tablas</a
                    >
                  </li>
                </ul>
              </nav>
            </div>
          </div>
          <div class="course-class__content">
            <i
              class="fas fa-bars icon course-class__icon-menu"
              id="btn-menu"
            ></i>
            <article class="course-class__section" id="install">
              <h2 class="course-class__section--title">
                Instalación de Laravel
              </h2>
              <div class="course-class__section--content">
                <p>
                  Instalación mediante Laravel Installer.
                  <a
                    target="_blank"
                    href="https://laravel.com/docs/6.x/installation"
                    class="link link-refe"
                    >Más información</a
                  >
                </p>
                <pre>
                  <code class="php">
                    composer global require laravel/installer
                  </code>
                </pre>
              </div>
            </article>
            <article class="course-class__section" id="create">
              <h2 class="course-class__section--title">
                Creando un proyecto en laravel
              </h2>
              <p>
                Con los siguiente comandos se puede crear un nuevo proyecto
                usando el framework Laravel.
              </p>
              <pre>
                <code class="php">
                  laravel new nombre-proyecto

                  //Otra forma
                  composer create-project --prefer-dist laravel/laravel:^version nombre-proyecto
                </code>
              </pre>
            </article>
            <article class="course-class__section" id="crud">
              <h2 class="course-class__section--title">CRUD en Laravel</h2>
              <div class="course-class__section--content">
                <p>
                  Lo primero es configurar la base de datos en el proyecto de
                  laravel, para eso hay que ir a la ruta
                  <i>config/database.php</i> en la cual se encuentran los datos
                  de configuración de los motores de bases de datos, aunque
                  <b>no se debe modificar</b> ese archivo manualmente.
                </p>
                <p>
                  Para eso se debe modificar variables que se declaran en el
                  archivo <i>.env</i> en donde se cambiamos el nombre de la base
                  de datos, nombre de usuario, contraseñas y otras
                  configuraciones para la conexión a la base de datos.
                </p>
                <p>
                  Para la creación de las <b>tablas</b> se hacen directamente en
                  laravel y no en el cliente de desarrollo, en la ruta
                  <i>database/migrations</i>. Desde el terminal se procede a
                  crear las tablas en nuestra base de datos.
                </p>
                <pre>
                  <code>
                    php artisan migrate
                  </code>
                </pre>
                <p class="note">
                  Todas las tablas se crean en un archivo php y por medio de los
                  comandos de artisan que viene implementado en laravel, se
                  migran y se crean en base de datos. Nunca se manipula
                  manualmente la base de datos.
                </p>
                <h3>Creación de rutas</h3>
                Para las rutas en laravel se definen en el archivo
                <i>routes/web.php</i>, en el podemos configurar las rutas de
                acceso a la aplicación, conectando con los
                <strong>controladores</strong> y funciones que se encargaran de
                manipular esa petición realizada por el usuario.
                <pre>
                  <code class="php">
                    //Creación de rutas laravel 7

                    //Route::get('/', 'Controlador@metodo');
                    Route::get('/', 'UserController@index');
                    Route::post('users', 'UserController@store')->name('users.store');
                    Route::delete('users/{user}', 'UserController@destroy')->name('users.destroy');

                    //laravel 8
                    use App\Http\Controllers\UserController;
                    Route::get('/', [UserController::class, 'index']);
                    Route::post('users', [UserController::class, 'store']);
                    Route::delete('users/{user}', [UserController::class, 'destroy']);
                  </code>
                </pre>
                <p>
                  Los <strong>Controladores</strong> se crean en la ruta
                  <i>http/Controllers</i>, se pueden crear de forma manual o
                  mediante laravel, con los comandos que ofrece artisan.
                </p>
                <pre>
                  <code class="console">
                    php artisan make:controller UserController
                  </code>
                </pre>
              </div>
            </article>
            <article class="course-class__section" id="test-data">
              <h2 class="course-class__section--title">
                Datos de prueba en Laravel
              </h2>
              <div class="course-class__section--content">
                <p>
                  Con Laravel contamos con datos para realizar pruebas, como es
                  el caso de llenar con información una tabla en base de datos.
                  Para realizarlo se hace mediante la consola con
                  <strong>artisan</strong>
                </p>
                <pre>
                  <code>
                    php artisan tinker
                  </code>
                </pre>
                <p>
                  El anterior comando, abre una consola para manipular archivos
                  en laravel.
                </p>
                <pre>
                  <code>
                    //Crear 12 registros de tipo usuario en BD

                    //laravel 7^
                    factory(App\User::class, 12)->create()

                    //laravel 8
                    User::factory()->count(12)->create();
                  </code>
                </pre>
              </div>
            </article>
            <article class="course-class__section" id="form-validate">
              <h2 class="course-class__section--title">
                Validaciones en formularios Laravel
              </h2>
              <div class="course-class__section--content">
                <p>
                  En laravel podemos validar de forma sencilla, la información
                  suministrada por los usuarios en un formulario, la validación
                  se realiza en el controlador de cada clase, utilizando la
                  clase <strong>Request</strong>.
                </p>
                <pre>
                  <code class="php">
                    $request->validate([
                        'name'     => ['required'],
                        'email'    => ['required', 'email', 'unique:nombreTablaBD'],
                        'password' => ['required', 'min:8']
                    ]);
                  </code>
                </pre>
                <p>
                  En lo anterior validamos que cada campo del formulario sea
                  obligatorio o que cumpla con ciertos requisitos. Laravel
                  tambien nos ofrece la posibilidad de manipular si ocurre un
                  error en la validación por medio de la variable global
                  <strong>$errors</strong>.
                </p>
                <pre>
                  <code class="php">
                    //Si se encuentra un error
                    @if($errors->any())

                    //Ver todos los errores
                    @foreach($errors->all() as $error)

                    //Guardar en las cajas de texto datos ingresados
                    //Para que no se borren cada vez que se validen
                    &lt;input value="{{ old('nombre-campo') }}"&gt
                  </code>
                </pre>
                <div class="note">
                  <p>
                    Traducir mensajes de errores a españo, en el archivo
                    <i>config/app.php</i> buscar la variable
                    <strong>locale</strong> y añadir el valor "es", luego en el
                    archivo <i>resources/lang</i> crear la carpeta en español
                    con el nombre "es" y crear el archivo
                    <strong>validation.php</strong> en el repositorio
                    <a
                      target="_blank"
                      href="https://github.com/italomoralesf/Laravel-lang/blob/master/es/validation.php"
                      class="link link-refe"
                      >traducciónes</a
                    >
                    se encuentra todo el archivo con las traducciones, además
                    hay que añadir en el array <strong>attributes</strong> las
                    palabras a traducir.
                  </p>
                </div>
                <pre>
                  <code class="php">
                    'attributes' => [
                        'name' => 'nombre',
                        'email' => 'correo electrónico',
                        'password' => 'Contraseña'
                    ],
                  </code>
                </pre>
              </div>
            </article>
            <article class="course-class__section" id="middlewares">
              <h2 class="course-class__section--title">Middlewares</h2>
              <div class="course-class__section--content">
                <p>
                  La función principal es proporcionar una fácil y conveniente
                  capa para filtrar las solicitudes HTTP. Existen diferentes
                  maneras de hacerlo y de hecho Laravel incluye un middleware
                  que verifica si el usuario está autenticado. Puedes crear un
                  middleware de registro y tener logs detallados de cada
                  solicitud entrante, cualquier cosa que se te ocurra respecto a
                  HTTP puedes llevarla a cabo usando esta tecnología.
                </p>
                <pre>
                  <code class="php">
                    //Crear un middleware de autentificación de usuarios
                    Route::get('/', function () {
                      return view('welcome');
                    })->middleware('auth');
                  </code>
                </pre>
                <h3>Middleware Personalizado</h3>
                <p>
                  Se crea un middleware personalizado mediante artisan, con el
                  comando <strong>make:middleware</strong>.
                </p>
                <pre>
                  <code class="php">
                    //php artisan make:middleware NombreMiddleware
                    php artisan make:middleware VerifyAge
                  </code>
                </pre>
                <p>
                  Se creara el archivo en la ruta <i>app/Http/Middleware/</i> en
                  el cual se deberá configurar toda la lógica de programación,
                  dependiendo de lo que queremos hacer. En este caso de ejemplo
                  verificar si el usuario es mayor de edad
                </p>
                <pre>
                  <code class="php">
                    //Archivo VerifyAge
                    class VerifyAge{
                      public function handle($request, Clouse $next){
                        if($request->get('age') < 18){
                          return redirect('guidelines') //si es menor redirigir a guidelines
                         }

                         return $next($request) //si no dejarlo continuar en la app
                      }
                    }
                  </code>
                </pre>
                <p>
                  Luego se procede a registrar la clase del Middleware dentro
                  del archivo <strong>kernel.php</strong>, que se encuentra en
                  la ruta <i>Http/Middleware/</i> y se añade al array
                  <strong>$routeMiddleware</strong>.
                </p>
                <pre>
                  <code class="php">
                    //Archivo Kernel
                    protected $routeMiddleware = [
                        'verify-age' => \App\Http\Middleware\VerifyAge::class,
                    ];

                    //Uso del Middleware
                    Route::get('/example', 'ExampleController@...')->middleware('verify-age');

                    //Middleware a varias rutas
                    Route::middleware(['auth'])->group(function () {
                      Route::view('/', 'welcome');
                      Route::resource('users', 'UserController');
                    }
                  </code>
                </pre>
              </div>
            </article>
            <article class="course-class__section" id="routes-and-controllers">
              <h2 class="course-class__section--title">
                Sistema de rutas y controladores
              </h2>
              <div class="course-class__section--content">
                <ul>
                  <li>
                    <strong>Route</strong>: Capa encargada de manejar todo el
                    flujo de la aplicación.
                  </li>
                  <li>
                    <strong>Controller</strong>: Donde escribimos toda la lógica
                    de programación.
                  </li>
                </ul>
                <p>
                  Retornar una vista en laravel, dentro del archivo
                  <i>web.php</i>, es útil cuando queremos retornar páginas
                  estaticas, además podemos pasarle datos por medio de un
                  arreglo.
                </p>
                <pre>
                  <code class="php">
                    Route::view('vista', 'welcomeView', ['app'=>'datos']);
                  </code>
                </pre>
                <p>
                  Debemos recordar de que cuando creamos una ruta, trabajamos
                  para conectarnos con los datos de un controlador, con el
                  metodo <strong>resource</strong> de la clase Route, nos
                  permite trabajar con 7 rutas posibles de un CRUD.
                </p>
                <pre>
                  <code class="php">
                    //Archivo web.php
                    //Laravel 7.0
                    Route::resource('pages', 'PageController');

                    //Laravel 8
                    use App\Http\Controllers\PageController;

                    Route::resource('pages', PageController::class);
                  </code>
                </pre>
                <p>
                  Luego debemos crear el controlador mediante los comandos de
                  artisan. Se crearán así las 7 rutas, con esto no es necesario
                  crear una por una.
                </p>
                <pre>
                  <code>
                    //Crear controlador con los 7 métodos básicos y conectarlo a un modelo
                    php artisan make:controller [NombreController] --resource --model=NombreModelo
                  </code>
                </pre>
              </div>
            </article>
            <article class="course-class__section" id="validation">
              <h2 class="course-class__section--title">
                Validación de datos (rutas, vistas, formularios y controladores)
              </h2>
              <div class="course-class__section--content">
                <p>
                  La forma correcta de realizar validaciones es creando un
                  archivo aparte para estas validaciones.
                </p>
                <pre>
                  <code class="php">
                    //Ruta laravel 7.0 para guardar datos formularios
                    Route::post('post', 'PostController@store')->name('posts.store');
                  </code>
                </pre>
                <p>
                  La validación del formulario no la realizamos en el
                  controlador si no en un archivo aparte, esos son los archivos
                  <strong>FormRequest</strong>, para crear uno se hace mediante
                  el comando artisan:
                </p>
                <pre>
                  <code>
                    php artisan make:request [NombreRequest]
                  </code>
                </pre>
                <p>
                  Dentro del archivo request, se debe validar que el método
                  <strong>authorize</strong> devuelva verdadero. Y en el método
                  <strong>rules</strong> es donde se programará toda la
                  validación necesaria.
                </p>
                <pre>
                  <code class="php">
                    //Archivo request
                    public function rules(){
                      return [
                        'title' => 'required',
                        'email' => ['required','email','unique:users'],
                      ]
                    }

                    //Mensajes personalizados
                    public function message(){
                      return [
                        'name.required' => 'El campo nombre es requerido'
                      ]
                    }
                  </code>
                </pre>
                <p>
                  Una vez listo el archivo de las validaciones, podemos hacer
                  uso de él en los controladores que queramos, importanto la
                  ruta y solicitandolo por parametros
                </p>
                <pre>
                  <code class="php">
                    //En el controlador
                    use App\Http\Request\NombreRequest;

                    public function store(NombreRequest $request){
                      //dd -> validar, como debugger o var_dump
                      dd($request->all());
                    }
                  </code>
                </pre>
              </div>
            </article>
            <article class="course-class__section" id="blade">
              <h2 class="course-class__section--title">
                Blade: sistema de plantillas avanzado
              </h2>
              <div class="course-class__section--content">
                <p>
                  Es el sistema de plantillas de laravel en el que se puede
                  combinar código PHP y HTML de una manera mucho más sencilla.
                </p>
                <ul>
                  <li>
                    @yield('contenido'): Esto le indica a Laravel que aquí se va
                    registrar el contenido, y le pondremos dentro un nombre
                    identificador.
                  </li>
                  <li>
                    @extends('archivo'): Para indicar de quién vamos a utilizar
                    el @yield
                  </li>
                  <li>
                    @section('contenido'): Con este le indicamos a Laravel el
                    @yeild donde va llevar el contenido que escribamos dentro de
                    este.
                  </li>
                  <li>
                    @include('contenido'): Incluye el código de otros archivos
                    al archivo que lo está incluyendo.
                  </li>
                </ul>
              </div>
            </article>
            <article class="course-class__section" id="laravel-ui">
              <h2 class="course-class__section--title">
                Componente Laravel UI
              </h2>
              <div class="course-class__section--content">
                <p>
                  Laravel ya tiene configurado ciertos componentes que
                  utilizaremos en nuestros proyectos, por lo tanto no es
                  necesario que realizemos todo desde cero. En este ejemplo
                  utilizaremos el sistema de login que proporsiona laravel.
                </p>
                <p>
                  El paquete a installar es <strong>laravel UI</strong>, que
                  proporsiona un punto de partida básico usando Bootstrap ,
                  React y/o Vue.
                </p>
                <pre>
                  <code>
                    #Instalación
                    composer require laravel/ui --dev

                    #Instalación laravel 7.^
                    composer require laravel/ui:^2.4 --dev
                  </code>
                </pre>
                <p>
                  Ahora mediante <strong>artisan</strong> podemos crear los
                  sistemas que nos ofrece laravel UI, en este caso seguiremos
                  con el login, para eso tenemos tres opciones para el
                  <strong>frontend</strong> de la vista del login, que puede ser
                  Bootstrap, React o Vue.
                </p>
                <pre>
                  <code>
                    php artisan ui bootstrap --auth
                  </code>
                </pre>
                <p>
                  Lo anterior creara las rutas, controladores y demás archivos
                  necesarios para el login, pero estos vienen sin estilos, para
                  eso se dene ejecutar los siguientes comandos
                  <strong>npm install</strong> & <strong>npm run dev</strong>.
                </p>
              </div>
            </article>
            <article class="course-class__section" id="eloquent">
              <h2 class="course-class__section--title">
                Eloquent: trabajando con este ORM
              </h2>
              <div class="course-class__section--content">
                <p>
                  Con Eloquent trabajamos el manejo de datos, este está incluido
                  en Laravel y nos ayuda a trabajar con todo lo que tenga que
                  ver con DB. Esta herramienta nos permitirá hacer consultas,
                  eliminar, actualizar, y listar. Podremos hacer todo lo que se
                  puede hacer con una DB sin escribir una sola línea d SQL. El
                  comando de php artisan para crear nuevos modelos es:
                </p>
                <pre>
                  <code>
                    php artisan make:model [NombreModelo]
                  </code>
                </pre>
                <p>
                  Para crear el modelo y a la vez la migración y el factory se
                  emplea el comando:
                </p>
                <pre>
                  <code>
                    php artisan make:model [NombreModelo] -m -f
                  </code>
                </pre>
                <p>
                  Dentro del archivo de la migración
                  <i>database/migrations/[nombreModelo]</i> podemos enviar
                  campos personalizados, los cuales serán columnas en nuestra
                  base de datos
                </p>
                <pre>
                  <code class="php">
                    public function up(){
                      Shema::create('posts', function(Blueprint $table){
                        $table->bigIncrements('id');
                        //Crear campo de la tabla en eloquent
                        $table->string('title');
                      });
                    }
                  </code>
                </pre>
                <div class="note">
                  <p>
                    Un modelo es la representación de una tabla que tenemos en
                    la DB.
                  </p>
                </div>
                <p>
                  Migramos nuestros modelos a la base de datos por medio de
                  artisan <strong>migrate</strong>, luego creamos datos de
                  prueba mediante
                  <a class="link link-refe" href="#test-data">tinker</a>, dentro
                  del archivo factory que se crea
                  <i>database/factories/[nombreModelo]</i> colocar las columnas
                  que queramos llenar con valores aleatorios.
                </p>
                <pre>
                  <code class="php">
                    $factory->define(Post::class, function (Faker $faker){
                      return [
                        'title' => $faker->sentence //Crear oraciones aleatorias.
                      ]
                    });

                    //Laravel 8
                    public function definition()
                    {
                      return [
                        'title' => $this->faker->sentence
                      ];
                    }
                  </code>
                </pre>
              </div>
            </article>
            <article class="course-class__section" id="eloquent-consult">
              <h2 class="course-class__section--title">
                Consultas en eloquent
              </h2>
              <div class="course-class__section--content">
                <ol>
                  <li>
                    Ver <strong>todos</strong> los registros de una tabla, el
                    nombre de la tabla es el nombre del modelo, ejemplo Modelo
                    Post:
                    <pre>
                      <code class="php">
                        //$data = NombreTabla::all();
                        $data = Post::all();

                        //Otra forma de listar Datos
                        $user = User::latest()->get();
                      </code>
                    </pre>
                  </li>
                  <li>
                    Consultas con condicionales:
                    <pre>
                      <code class="php">
                        $data = Post::where('id', '>=', '20')->get();
                      </code>
                    </pre>
                  </li>
                  <li>
                    Guardar datos en base de datos:
                    <pre>
                      <code class="php">
                        User::create([
                          'name' => $request->name,
                          'email' => $request->email,
                          'password' => bcrypt($request->password) //Encripar contraseñas
                        ]);
                      </code>
                    </pre>
                  </li>
                  <li>
                    Ordenar datos y tomar solo algunos registros:
                    <pre>
                      <code class="php">
                        Post::all()->orderBy('id', 'desc')->take(3);
                      </code>
                    </pre>
                  </li>
                </ol>
              </div>
            </article>
            <article
              class="course-class__section"
              id="eloquent-relations-table"
            >
              <h2 class="course-class__section--title">Relaciones de tablas</h2>
              <div class="course-class__section--content">
                <p>
                  Para empezar a relacionar tablas, primero debemos crear los
                  campos index para la relación, esto se hace en
                  <i>database/migrations/[NombreTabla]</i> para este ejemplo,
                  relacionaremos las tablas <strong>post</strong> y
                  <strong>user</strong>, la creación de los campos se realiza en
                  el método <strong>up</strong>.
                </p>
                <pre>
                  <code class="php">
                    //Tabla post, 
                    public function up(){
                      Shema::create('posts', function(Blueprint $table){
                        //Crea un campo con números positivos
                        $table->unsignedBigInteger('user_id'); 

                        //Relacionar los campos
                        $table->foreign('user_id')->references('id')->on('users');
                      };)
                    }

                  </code>
                </pre>
                <p>
                  Cuando se realicé la relación se debe actualizar las tablas en
                  base de datos, para eso esta el siguiente comando:
                </p>
                <pre>
                  <code class="php">
                    php artisan migrate:refresh
                  </code>
                </pre>
                <p>
                  El problema del <strong>refresh</strong> es que elimina los
                  datos de prueba, para esto en el archivo
                  <i>database/seeds/DatabaseSeeder.php</i>, añadiremos el codigo
                  tinker para que esos datos se creen al realizar un refresh.
                </p>
                <pre>
                  <code class="php">
                    public function run(){
                      factory(App\User::class, 4)->create();
                      factory(App\Post::class, 30)->create();
                    }
                  </code>
                </pre>
                <p>
                  En el archivo <strong>factory</strong> también especificamos
                  los datos a llenar, en este caso que se llene el id del
                  usuario con números aleatorios.
                </p>
                <pre>
                  <code class="php">
                    //Archivo PostFactory.php
                    $factory->define(Post::class, function(Faker$faker){
                      return [
                        //Números aleatorios del 1 al 4
                        'user_id' => rand(1, 4),
                        'title' => $faker->sentence
                      ]
                    });
                  </code>
                </pre>
                <p>Correr el comando:</p>
                <pre>
                  <code>
                    php artisan migrate:refresh --seed
                  </code>
                </pre>
                <p>
                  Ya la relación existe en la base de datos, sinembargo en
                  laravel no, para poder relacionarlas en laravel debemos
                  especificar en los archivos <strong>Model</strong> que
                  representan las tablas.
                </p>
                <pre>
                  <code class="php">
                    //Archivo User.php
                    /*
                      * Método para especificar que un usuario puede
                      * tener varios posts
                    */
                    public function posts(){
                      return $this->hasMany(Post::class);
                    }
                  </code>
                </pre>
                <p>
                  La relación se debe especificar en todos los archivos que se
                  esten relacionando.
                </p>
                <pre>
                  <code class="php">
                    //Archivo Post.php
                    /*
                      * Método para especificar que un post solo
                      * pertenece a un usuario, por eso el método
                      * se coloca en singular
                    */
                    public function user(){
                      return $this->belongsTo(User::class);
                    }
                  </code>
                </pre>
                <p>Probando la configuración, mediante un ejemplo:</p>
                <pre>
                  <code class="php">
                    $posts = Post::get();

                    foreach($posts as $post){
                      echo "
                        $post->id
                        { $post->user->name }
                      ";
                    }

                    //Otro ejemplo ver cuantos post tiene cada usuario
                    $users = User::all();

                    foreach($users as $user){
                      echo "
                        $user->id
                        $user->name
                        { $user->posts->count() }
                      "
                    }
                  </code>
                </pre>
              </div>
            </article>
          </div>
        </section>
        <footer class="footer">
          <div class="container-general">
            <div class="footer__container">
              <p id="footer-year">@Carlos Zabala Roqueme -</p>
              <figure class="footer__container--img">
                <img
                  src="../../src/images/logo-white-2.png"
                  alt="logo Carlos Zabala"
                />
              </figure>
            </div>
          </div>
        </footer>
      </div>
    </div>
    <script
      src="https://kit.fontawesome.com/2028b75fa6.js"
      crossorigin="anonymous"
    ></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.0/highlight.min.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>
    <script src="../../src/js/menu.js"></script>
    <script type="module" src="../../index.js"></script>
  </body>
</html>
